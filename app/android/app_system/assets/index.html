<html>
<head>
<title>
Crosswalk Sample Application
</title>
</head>
<body>
<script>
var Error = function(error) {
  console.log(error);
}
window.onload = function() {
  try {
    //navigator.system.getCPUInfo().then(
    //    function(cpu) {
    //      document.getElementById("cpu").innerHTML = "Result cpu cores: " + cpu.numOfProcessors + "<br>cpu Arch:" + cpu.archName + "<br>cpu Load:" + cpu.load;
    //    },
    //    Error);
    navigator.system.getCPUInfo().then(
        function(cpu) {
          document.getElementById("cpu").innerHTML = "Result cpu cores: " + cpu.numOfProcessors + "<br>cpu Arch:" + cpu.archName + "<br>cpu Load:" + cpu.load;
        },
        Error).then(
        function(cpu) {
          document.getElementById("cpu_then").innerHTML = "Result cpu cores: " + cpu.numOfProcessors + "<br>cpu Arch:" + cpu.archName + "<br>cpu Load:" + cpu.load;
        },
        Error);
    navigator.system.getDisplayInfo().then(
        function(display) {
          var msg = "";
          for (var i = 0; i < display.displays.length; ++i) {
            var prop = Object.getOwnPropertyNames(display.displays[i]);
            for (var j = 0; j < prop.length; ++j) {
              msg += prop[j] + ": " + display.displays[i][prop[j]] + "<br>";
            }
          }
          document.getElementById("display").innerHTML = "Display: " + msg;
        },
        Error);
    navigator.system.getMemoryInfo().then(
        function(memory) {
          document.getElementById("memory").innerHTML = "Result: " + memory.capacity / 1024 + "MB-" + memory.availCapacity / 1024 + "MB";
        },
        Error);
    navigator.system.getStorageInfo().then(
        function(storage) {
          var msg = "";
          for (var i = 0; i < storage.storages.length; ++i) {
            var prop = Object.getOwnPropertyNames(storage.storages[i]);
            for (var j = 0; j < prop.length; ++j) {
              msg += prop[j] + ": " + storage.storages[i][prop[j]] + "<br>";
            }
          }
          document.getElementById("storage").innerHTML = "Result: " + msg;
        },
        Error);
    onattach_num = 0;
    navigator.system.addEventListener("onattach", function(msg) {
        console.log(msg);
        onattach_num += 1;
        document.getElementById("onattach").innerHTML = "Storage: " + onattach_num + "-" + msg.content;
      });
    ondetach_num = 0;
    navigator.system.addEventListener("ondetach", function(msg) {
        console.log(msg);
        ondetach_num += 1;
        document.getElementById("ondetach").innerHTML = "Storage: " + ondetach_num + "-" + msg.content;
      });
    navigator.system.addEventListener("onconnect", function(msg) {
        console.log(msg);
        document.getElementById("onconnect").innerHTML = "Display: " + msg.content + " connect.";
      });
    navigator.system.addEventListener("ondisconnect", function(msg) {
        console.log(msg);
        document.getElementById("ondisconnect").innerHTML = "Display: " + msg.content + " disconnect.";
      });
  } catch(e) {
    console.log(e);
  }
};
</script>
<div style="text-align:center;margin:50;font-size:32;font-weight:bold">
SysApp EXAMPLE
</div>
<div style="text-align:center;margin:20;font-size:18">
  <p>getCpuInfo</p>
  <p id="cpu">TESTTEST</p>
  <p>getCpuInfo Then</p>
  <p id="cpu_then">TESTTEST</p>
  <p>getDisplayInfo</p>
  <p id="display">TESTTEST</p>
  <p>getMemoryInfo</p>
  <p id="memory">TESTTEST</p>
  <p>getStorageInfo</p>
  <p id="storage">TESTTEST</p>
  <p>listenStorage</p>
  <p id="onattach">TESTTEST</p>
  <p id="ondetach">TESTTEST</p>
  <p>listenDisplay</p>
  <p id="onconnect">TESTTEST</p>
  <p id="ondisconnect">TESTTEST</p>
</div>
</body>
</html>
